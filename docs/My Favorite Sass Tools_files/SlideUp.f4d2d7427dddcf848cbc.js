webpackJsonp([10],{492:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return(0,w["default"])({SlideUp:!0,"u-shown":!!e.shown})}function c(e,t){window.addEventListener(e,t)}function u(e,t){window.removeEventListener(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(235),f=r(d),p=n(264),v=r(p),y=n(448),w=r(y),b=n(475),k=r(b);n(493);var g=n(21),m=o(g),O=2592e6,S=function(e){function t(e){i(this,t);var n=s(this,Object.getPrototypeOf(t).call(this,e));return n.state={active:!1,shown:!1},window.innerHeight<e.activateMinHeight||n.hasUserSeen()?s(n):(n.state.active=!0,n.heightWatcher=(0,k["default"])(function(){return n.destroyOnHeight()},100),c("resize",n.heightWatcher),n.boundDestroyOnEsc=n.destroyOnEsc.bind(n),n)}return a(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;if(this.state.active){var t=this.props,n=t.activateDelay,o=t.activateScrollPercent;n?this.timeoutId=window.setTimeout(this.show.bind(this),1e3*n):o&&(this.scrollWatcher=(0,k["default"])(function(){return e.showOnScroll()},100),c("resize",this.scrollWatcher),c("scroll",this.scrollWatcher))}}},{key:"componentWillUnmount",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId),u("keydown",this.boundDestroyOnEsc),u("resize",this.heightWatcher)}},{key:"render",value:function(){var e=(this.destroy,this.props),t=this.state;return f["default"].createElement("div",{className:l(t)+" "+e.className},f["default"].createElement("button",{className:"Button SlideUp_close",onClick:this.destroyOnClose.bind(this)},f["default"].createElement("i",{className:"fa fa-close"})," Close"),f["default"].createElement("div",{dangerouslySetInnerHTML:{__html:e.innerHTML}}),f["default"].createElement("a",{className:"SlideUp_mask",onClick:this.destroyOnBackground.bind(this)}," "))}},{key:"destroy",value:function(){v["default"].unmountComponentAtNode(v["default"].findDOMNode(this).parentElement)}},{key:"destroyOnBackground",value:function(){var e=this.props.trackingLabel;this.destroy(),gaEventQueue.track("SlideUp","Background",e)}},{key:"destroyOnClose",value:function(){var e=this.props.trackingLabel;this.destroy(),gaEventQueue.track("SlideUp","Close",e)}},{key:"destroyOnEsc",value:function(e){var t=this.props.trackingLabel,n=e.keyCode||e.which;27===n&&(this.destroy(),gaEventQueue.track("SlideUp","Esc",t))}},{key:"destroyOnHeight",value:function(){window.innerHeight<this.props.activateMinHeight&&this.destroy()}},{key:"show",value:function(){var e=this.props.trackingLabel;this.setState({shown:!this.state.shown}),c("keydown",this.boundDestroyOnEsc),m.set("SlideUp_shown_"+e,Date.now()),gaEventQueue.track("SlideUp","Shown",e)}},{key:"showOnScroll",value:function(){var e=this.props.activateScrollPercent,t=window.pageYOffset/document.body.offsetHeight*100;e>t||(this.show(),u("resize",this.scrollWatcher),u("scroll",this.scrollWatcher))}},{key:"hasUserSeen",value:function(){return this.hasUserSeenModal()||this.hasUserSeenSlideUp()}},{key:"hasUserSeenModal",value:function(){var e=this.props.trackingLabel,t=m.get("ModalOnce_shown_"+e);return t?t>Date.now()-O?!0:(m.remove("ModalOnce_shown_"+e),!1):!1}},{key:"hasUserSeenSlideUp",value:function(){var e=this.props.trackingLabel,t=m.get("SlideUp_shown_"+e);return t?t>Date.now()-O?!0:(m.remove("SlideUp_shown_"+e),!1):!1}}]),t}(f["default"].Component);S.defaultProps={activateMinHeight:800,trackingLabel:"default"},t["default"]=S},493:205});